# Воронина, Титова, Кляшторная
# Документация
## Функции управления файловой системой
### **`fs_load`**  
int fs_load(const char *fname, FileSystem *fs)
**Параметры:**  
- `const char *fname` — путь к файлу для загрузки (строка)  
- `FileSystem *fs`    — указатель на структуру файловой системы  

**Возвращаемое значение:**  
- `0` — успешная загрузка или создание пустой файловой системы  
- `-1` — ошибка при работе с файлом  

---

### **`fs_select`**  

int fs_select(const FileSystem *fs, const char *path, char **out_content)

**Параметры:**  
- `const FileSystem *fs` — указатель на структуру файловой системы  
- `const char *path`     — путь к искомому файлу (строка)  
- `char **out_content`   — двойной указатель для возврата содержимого файла  

**Возвращаемое значение:**  
- `0` — файл найден, содержимое скопировано в `out_content`  
- `-1` — файл не найден  

---

### **`fs_delete`**  

int fs_delete(FileSystem *fs, const char *path)

**Параметры:**  
- `FileSystem *fs`    — указатель на структуру файловой системы  
- `const char *path`  — путь к удаляемому файлу (строка)  

**Возвращаемое значение:**  
- `0` — файл успешно удален  
- `-1` — файл не найден  

---

## Вспомогательные элементы
**Структура данных:**  
```c
typedef struct {
    char *path;     
    char *content;  
} FileEntry;

typedef struct {
    FileEntry *entries;  
    size_t count;       
} FileSystem;
```

---

### **`create_new_file`**
**Создание нового файла в файловой системе**

```c
void create_new_file(const char* filename, const char* content)
```

**Параметры:**

- `filename` - `const char*` - имя создаваемого файла
- `content` - `const char*` - содержимое файла

**Возвращаемое значение:**

- Не возвращает значения (void)

**Описание:**
Функция добавляет новый файл в конец файловой системы. Формат записи:

1. Строка с меткой FILE: и именем файла
2. Содержимое файла

---

### **`modify_file`**
## Изменение существующего файла

```c
void modify_file(const char* filename, const char* new_content)
```

**Параметры:**

- `filename` - `const char*` - имя изменяемого файла
- `new_content` - `const char*` - новое содержимое файла

**Возвращаемое значение:**

- Не возвращает значения (void)

**Описание:**

Функция находит указанный файл в файловой системе и заменяет его содержимое на новое. Алгоритм работы:
1. Сохраняет все файлы кроме изменяемого без изменений
2. Для изменяемого файла:
    - Сохраняет строку с именем файла
    - Удаляет старое содержимое
    - Добавляет новое содержимое
3. Заменяет оригинальную файловую систему обновлённой версией

**Примечание:**
Если указанный файл не существует, функция не делает никаких изменений

## FileSystem Library

**Описание:**

Библиотека filesystem предоставляет простой интерфейс для работы с файловой системой в ваших проектах на языке C. Реализация содержится в файле filesystem.c, а интерфейс объявлен в заголовочном файле filesystem.h.


**Подключение библиотеки**

Чтобы использовать библиотеку в своем проекте:

1. Скопируйте файлы filesystem.h и filesystem.c в папку вашего проекта.

2. Включите заголовочный файл в ваш исходный код:

```c
#include "filesystem.h"
```

3. При компиляции добавьте filesystem.c в список исходных файлов:

```c
bash
gcc your_program.c filesystem.c -o your_program
```
Простая файловая система на C

Консольное приложение для работы с файлами

## Команды системы

### 1. Создание файла
```sh
> создать <имя_файла>

> создать document.txt
Файл 'document.txt' успешно создан
```
### 2. Удаление файла
```sh
> удалить <имя_файла>

> удалить document.txt
Файл 'document.txt' успешно удален

> удалить unknown.txt
Ошибка: Не удалось удалить файл 'unknown.txt'
```
### 3. Редактирование файла
```sh
> изменить <имя_файла>

> изменить data.txt
Введите содержимое для файла 'data.txt' (макс. 1024 символов):
Это первая строка
И вторая строка
Содержимое файла 'data.txt' успешно изменено
```
### 4. Просмотр файла
```sh
> просмотреть <имя_файла>

> просмотреть notes.txt
Содержимое файла 'notes.txt':
Это первая строка
И вторая строка

> просмотреть missing.txt
Ошибка: Не удалось открыть файл 'missing.txt' для чтения
```
### 5. Выход из программы
```sh
> выход

> выход
Работа файловой системы завершена.
```
